---
interface Props {
	currentPage?: string;
}

const { currentPage } = Astro.props;

const links = [
	{ href: '/program', label: 'Program' },
	{ href: '/speakers', label: 'Speakers' },
	{ href: '/sponsors', label: 'Sponsors' },
	{ href: '/registration', label: 'Registration' },
	{ href: '/contact', label: 'Contact' },
	{ href: '/conduct', label: 'Conduct' },
];
---

<nav class="bg-teal text-white sticky top-0 z-50">
	<div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
		<a href="/" class="font-bold text-lg">DC State of the Stack</a>
		<button id="menu-toggle" class="md:hidden text-white" aria-label="Toggle menu">
			<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
			</svg>
		</button>
		<ul id="nav-links" class="hidden md:flex gap-6 text-sm font-medium">
			{links.map(link => (
				<li>
					<a
						href={link.href}
						class={currentPage === link.href ? 'text-light-pink' : 'hover:text-light-pink transition-colors'}
					>
						{link.label}
					</a>
				</li>
			))}
		</ul>
	</div>
	<ul id="mobile-menu" class="hidden flex-col gap-2 px-4 pb-4 text-sm font-medium md:hidden">
		{links.map(link => (
			<li>
				<a
					href={link.href}
					class={`block py-1 ${currentPage === link.href ? 'text-light-pink' : 'hover:text-light-pink transition-colors'}`}
				>
					{link.label}
				</a>
			</li>
		))}
	</ul>
</nav>

<script>
	const toggle = document.getElementById('menu-toggle');
	const mobileMenu = document.getElementById('mobile-menu');
	toggle?.addEventListener('click', () => {
		mobileMenu?.classList.toggle('hidden');
		mobileMenu?.classList.toggle('flex');
	});
	mobileMenu?.querySelectorAll('a').forEach(link => {
		link.addEventListener('click', () => {
			mobileMenu?.classList.add('hidden');
			mobileMenu?.classList.remove('flex');
		});
	});
</script>
