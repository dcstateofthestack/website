---
import Layout from '../layouts/Layout.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';
import "../styles/global.css";
import { getCollection } from 'astro:content';

const speakers = await getCollection('speakers');
---

<Layout>
	<Nav currentPage="/speakers" />

	<section class="py-16 px-4 bg-white flex-1">
		<div class="max-w-5xl mx-auto">
			<div class="text-center mb-12">
				<h1 class="text-4xl font-bold mb-4 text-navy">Speakers</h1>
				<div class="w-16 h-1 bg-pink mx-auto mb-6"></div>
				<p class="text-gray-500 text-lg max-w-2xl mx-auto">Meet the practitioners and leaders sharing what they've learned shipping software in the age of AI.</p>
			</div>

			{speakers.length > 0 ? (
				<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
					{speakers.map((speaker) => (
						<div class="bg-gray-50 rounded-2xl p-6 border border-gray-100">
							<div class="w-20 h-20 bg-teal/10 rounded-full mx-auto mb-4 flex items-center justify-center">
								{speaker.data.photo ? (
									<img src={speaker.data.photo.src} alt={speaker.data.name} class="w-20 h-20 rounded-full object-cover" />
								) : (
									<span class="text-teal text-2xl font-bold">
										{speaker.data.name.split(' ').map((n: string) => n[0]).join('')}
									</span>
								)}
							</div>
							<h3 class="text-lg font-bold text-navy text-center mb-1">{speaker.data.name}</h3>
							<p class="text-sm text-teal text-center mb-3">{speaker.data.title}</p>
							<p class="text-sm text-pink font-semibold text-center mb-3">"{speaker.data.talkName}"</p>
							<p class="text-sm text-gray-500 text-center leading-relaxed">{speaker.data.bio}</p>
						</div>
					))}
				</div>
			) : (
				<p class="text-gray-500 text-lg text-center">Stay tuned for our Call for Proposals!</p>
			)}
		</div>
	</section>

	<Footer />
</Layout>
